<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.*?>

<?import javafx.scene.text.TextFlow?>
<?import javafx.scene.text.Text?>
<?import javafx.geometry.Insets?>
<VBox spacing="0.0" style="-fx-background-color: #f5d6ae;" xmlns="http://javafx.com/javafx/17.0.12" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.cafe.controller.table.TableController">

    <!-- Top Navigation Bar -->
    <HBox alignment="CENTER_LEFT" spacing="20" style="-fx-background-color: #5d2b1c; -fx-padding: 10;">
        <Label style="-fx-text-fill: #fff9c4; -fx-font-size: 18px; -fx-font-weight: bold;" text="Màn hình chính Admin" />

        <Region HBox.hgrow="ALWAYS" />

        <!-- Navigation Tabs -->
        <HBox spacing="5">
            <Button fx:id="userTab" onAction="#onUserButtonClicked" style="-fx-background-color: transparent;                     -fx-text-fill: #fff9c4;                     -fx-background-radius: 5;                     -fx-padding: 8 15;" text="Nhân viên" />
            <Button fx:id="menuTab" style="-fx-background-color: transparent; -fx-text-fill: #fff9c4; -fx-background-radius: 5; -fx-padding: 8 15;" text="Menu" />
            <Button fx:id="tableTab" style="-fx-background-color: #f5d6ae; -fx-text-fill: #4e342e; -fx-font-weight: bold; -fx-background-radius: 5; -fx-padding: 8 15;" text="Bàn" />
            <Button fx:id="reportTab" style="-fx-background-color: transparent; -fx-text-fill: #fff9c4; -fx-background-radius: 5; -fx-padding: 8 15;" text="Báo cáo" />
            <Button fx:id="promotionTab" style="-fx-background-color: transparent; -fx-text-fill: #fff9c4; -fx-background-radius: 5; -fx-padding: 8 15;" text="Khuyến mãi" />
        </HBox>

        <Region HBox.hgrow="ALWAYS" />

        <!-- Logout Button -->
        <Button fx:id="logoutButton" style="-fx-background-color: transparent; -fx-text-fill: #fff9c4; -fx-font-size: 16px;">
            <graphic>
                <ImageView fitHeight="20" fitWidth="20">
                    <image>
                        <Image url="@../../images/icons/power-icon.png" />
                    </image>
                </ImageView>
            </graphic>
        </Button>
    </HBox>

    <!-- Main Content Area -->
    <VBox style="-fx-background-color: #f8f9fa;" VBox.vgrow="ALWAYS">

        <!-- Horizontal Area Selection -->
        <HBox alignment="CENTER_LEFT" spacing="10.0">
            <VBox spacing="10">

                <!-- Horizontal scroll area -->
                <HBox spacing="15.0">
                    <ScrollPane hbarPolicy="AS_NEEDED" vbarPolicy="NEVER"
                                prefViewportHeight="50" minHeight="50" style="-fx-background-color:transparent;">
                        <content>
                            <HBox fx:id="areaContainer" spacing="8.0">
                                <StackPane>
                                    <!-- Main Area Button -->
                                    <Button onAction="#onAreaSelected"
                                            style="-fx-background-color: #FBECE3; -fx-font-weight: bold; -fx-font-size: 25px; -fx-padding: 20 20 20 20;"
                                            text="Khu A"
                                            maxWidth="Infinity" />
                                    <Button text="×"
                                            style="-fx-background-color: transparent; -fx-text-fill: black; -fx-font-size: 20px; -fx-padding: 0;"
                                            StackPane.alignment="TOP_RIGHT" />
                                </StackPane>
                                <StackPane>
                                    <!-- Main Area Button -->
                                    <Button onAction="#onAreaSelected"
                                            style="-fx-background-color: #FBECE3; -fx-font-weight: bold; -fx-font-size: 25px; -fx-padding: 20 20 20 20;"
                                            text="Khu B"
                                            maxWidth="Infinity" />
                                    <!--                                    not select: #FBECE3-->
                                    <!--                                    selected: #ffb487-->
                                    <!-- Close (X) Button -->
                                    <Button text="×"
                                            style="-fx-background-color: transparent; -fx-text-fill: black; -fx-font-size: 20px; -fx-padding: 0;"
                                            StackPane.alignment="TOP_RIGHT" />
                                </StackPane>
                                <!-- More StackPanes here -->
                            </HBox>
                        </content>
                    </ScrollPane>

                    <!-- Add new area controls -->
                    <HBox fx:id="areaButtonsContainer" spacing="8.0" prefHeight="50" minWidth="300">
                        <padding>
                            <Insets top="20" right="0" bottom="0" left="0"/>
                        </padding>
                        <TextField fx:id="newAreaField"
                                   promptText="Khu Vực Mới..."
                                   style="-fx-font-size: 25px; -fx-pref-width: 250px;" prefHeight="50"/>
                        <Button onAction="#onCreateNewArea"
                                style="-fx-background-color: #DFF0D8; -fx-font-weight: bold; -fx-font-size: 25px;"
                                prefHeight="50"
                                text="+" />
                    </HBox>
                </HBox>
            </VBox>
        </HBox>

        <!-- Tables Display Section -->

        <ScrollPane fitToWidth="true">
            <VBox fx:id="tableFlowPane" style="-fx-padding: 10;" spacing="20">
                <FlowPane fx:id="tableContainer"
                              hgap="20" vgap="20"
                              alignment="CENTER_LEFT"
                              prefWrapLength="850">

                </FlowPane>

                <!-- Transparent Add Table Card -->
                <AnchorPane fx:id="addTableCard" onMouseClicked="#onAddTableClicked"
                    prefHeight="220" prefWidth="468" minWidth="468" maxWidth="468"
                    style="-fx-background-color: linear-gradient(to bottom right, #ffffff, #f5f5f5);
                   -fx-border-color: #B87333;
                   -fx-border-radius: 15;
                   -fx-background-radius: 15;
                   -fx-border-style: dashed;">

                    <VBox alignment="CENTER" spacing="15" prefHeight="200" prefWidth="468">
                        <padding>
                            <Insets top="30" right="0" bottom="0" left="0"/>
                        </padding>
                        <!-- Title -->
                        <Label style="-fx-font-size: 28px; -fx-text-fill: #B87333; -fx-font-weight: bold;"
                               text="+ Add Table" />

                        <!-- Table Name Input -->
                        <TextField fx:id="newTableNameField"
                                   promptText="Tên bàn"
                                   style="-fx-font-size: 18px;
                              -fx-background-radius: 8;
                              -fx-border-radius: 8;
                              -fx-border-color: #ccc;
                              -fx-background-color: #ffffff;"
                                   maxWidth="250" />

                        <!-- Number of People Input -->
                        <TextField fx:id="newPeopleCountField"
                                   promptText="Số người"
                                   style="-fx-font-size: 18px;
                              -fx-background-radius: 8;
                              -fx-border-radius: 8;
                              -fx-border-color: #ccc;
                              -fx-background-color: #ffffff;"
                                   maxWidth="250" />
                    </VBox>
                </AnchorPane>
            </VBox>
        </ScrollPane>

    </VBox>
</VBox>
