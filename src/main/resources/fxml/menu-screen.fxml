<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.image.Image?>

<VBox fx:id="menuContainer" xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1" 
      fx:controller="com.cafe.controller.MenuController"
      stylesheets="@../css/menu.css"
      styleClass="menu-container">
    
    <!-- Top Bar with Navigation Tabs -->
    <HBox styleClass="top-bar" alignment="CENTER_LEFT" spacing="20">
        <padding>
            <Insets top="15" right="20" bottom="15" left="20"/>
        </padding>
        
        <!-- Navigation Tabs -->
        <HBox alignment="CENTER_LEFT" spacing="0">
            <Button text="Menu" styleClass="nav-tab active-tab"/>
            <Button text="Bàn" styleClass="nav-tab"/>
        </HBox>
        
        <Region HBox.hgrow="ALWAYS"/>
        
        <!-- Status and Loading -->
        <HBox alignment="CENTER_RIGHT" spacing="10">
            <ProgressIndicator fx:id="loadingIndicator" maxWidth="20" maxHeight="20" visible="false"/>
            <Label fx:id="statusLabel" text="Sẵn sàng" styleClass="status-label"/>
        </HBox>
        
        <!-- Power Button -->
        <Button fx:id="powerButton" styleClass="power-button">
            <graphic>
                <ImageView fitWidth="20" fitHeight="20">
                    <Image url="@../images/icons/power-icon.png"/>
                </ImageView>
            </graphic>
        </Button>
    </HBox>
    
    <!-- Main Content Area -->
    <HBox styleClass="main-content" VBox.vgrow="ALWAYS">
        
        <!-- Left Panel - Menu Items -->
        <VBox styleClass="menu-panel" HBox.hgrow="ALWAYS" spacing="15">
            <padding>
                <Insets top="15" right="15" bottom="15" left="20"/>
            </padding>
            
            <!-- Category Bar -->
            <HBox fx:id="categoryBar" styleClass="category-bar" spacing="15">
                <padding>
                    <Insets top="5" right="10" bottom="5" left="10"/>
                </padding>
            </HBox>
            
            <!-- Search Bar -->
            <HBox alignment="CENTER_LEFT" spacing="10">
                <Label text="🔍" styleClass="search-icon"/>
                <TextField fx:id="searchField" styleClass="search-field" 
                          promptText="Nhập mã/Tên món cần tìm" 
                          HBox.hgrow="ALWAYS"/>
            </HBox>
            
            <!-- Products Grid -->
            <ScrollPane fx:id="productScrollPane" styleClass="product-scroll-pane" VBox.vgrow="ALWAYS">
                <VBox fx:id="productContainer" styleClass="product-container">
                    <padding>
                        <Insets top="10" right="10" bottom="10" left="10"/>
                    </padding>
                </VBox>
            </ScrollPane>
        </VBox>
        
        <!-- Right Panel - Order Cart -->
        <VBox styleClass="order-panel" minWidth="380" maxWidth="420" spacing="15">
            <padding>
                <Insets top="15" right="20" bottom="15" left="15"/>
            </padding>
            
            <!-- Table Information -->
            <HBox alignment="CENTER_LEFT" spacing="10">
                <Label text="🔍" styleClass="search-icon"/>
                <TextField styleClass="table-search-field" 
                          promptText="1.3 - Bàn 004/Tăng 1" 
                          editable="false"
                          HBox.hgrow="ALWAYS"/>
            </HBox>
            
            <!-- Order Header -->
            <HBox alignment="CENTER_LEFT" spacing="10">
                <Label text="🛒" styleClass="cart-icon"/>
                <Label text="Giỏ hàng" styleClass="cart-title"/>
            </HBox>
            
            <!-- Order Items Header -->
            <HBox styleClass="order-header" alignment="CENTER_LEFT" spacing="10">
                <Label text="Tên món" styleClass="order-header-label" HBox.hgrow="ALWAYS"/>
                <Label text="Số lượng" styleClass="order-header-label" minWidth="80"/>
                <Label text="Thành tiền" styleClass="order-header-label" minWidth="100"/>
                <Label text="" styleClass="order-header-label" minWidth="30"/>
            </HBox>
            
            <!-- Order Items Container -->
            <ScrollPane styleClass="order-items-scroll-pane" VBox.vgrow="ALWAYS">
                <VBox fx:id="orderItemsContainer" styleClass="order-items-container">
                    <padding>
                        <Insets top="5" right="5" bottom="5" left="5"/>
                    </padding>
                </VBox>
            </ScrollPane>
            
            <!-- Order Summary -->
            <VBox styleClass="order-summary" spacing="15">
                <padding>
                    <Insets top="15" right="15" bottom="15" left="15"/>
                </padding>
                
                <!-- Total Amount -->
                <HBox alignment="CENTER_RIGHT" spacing="10">
                    <Label text="ℹ" styleClass="info-icon"/>
                    <Label text="Tổng tiền:" styleClass="total-label"/>
                    <Label fx:id="totalAmountLabel" text="0 ₫" styleClass="total-amount"/>
                </HBox>
                
                <!-- Action Buttons -->
                <HBox alignment="CENTER" spacing="10">
                    <Button fx:id="paymentButton" text="Thanh toán" styleClass="action-button payment-button">
                        <graphic>
                            <Label text="✓" styleClass="button-icon"/>
                        </graphic>
                    </Button>
                    <Button fx:id="placeOrderButton" text="Đặt món" styleClass="action-button place-order-button">
                        <graphic>
                            <Label text="✓" styleClass="button-icon"/>
                        </graphic>
                    </Button>
                    <Button fx:id="cancelButton" text="Hủy bỏ" styleClass="action-button cancel-button">
                        <graphic>
                            <Label text="✗" styleClass="button-icon"/>
                        </graphic>
                    </Button>
                </HBox>
            </VBox>
        </VBox>
    </HBox>
    
    <!-- Bottom Status Bar -->
    <HBox styleClass="bottom-status-bar" alignment="CENTER_LEFT" spacing="20">
        <padding>
            <Insets top="5" right="20" bottom="5" left="20"/>
        </padding>
        
        <Label text="© 2024 Nopita Cafe - Hệ thống quản lý" styleClass="copyright-text"/>
        
        <Region HBox.hgrow="ALWAYS"/>
        
        <Label text="Phiên bản 1.0" styleClass="version-text"/>
    </HBox>
    
</VBox>
