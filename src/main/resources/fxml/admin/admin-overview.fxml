<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.chart.*?>

<VBox xmlns="http://javafx.com/javafx/24.0.1" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.cafe.controller.admin.AdminOverviewController"
      style="-fx-background-color: #f8f9fa;" spacing="20">
    
    <padding>
        <Insets top="20" right="20" bottom="20" left="20"/>
    </padding>

    <!-- Welcome Header -->
    <VBox spacing="10">
        <Label text="👋 Chào mừng đến với Admin Dashboard" 
               style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: #2E86AB;"/>
        <Label fx:id="welcomeMessage" text="Hôm nay là ngày tốt để quản lý cafe!"
               style="-fx-font-size: 14px; -fx-text-fill: #666;"/>
    </VBox>

    <!-- Statistics Cards -->
    <HBox spacing="20" alignment="CENTER">
        <!-- Today Revenue Card -->
        <VBox style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 20; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 5, 0, 0, 2);" 
              spacing="10" alignment="CENTER" prefWidth="200">
            <Label text="💰" style="-fx-font-size: 32px;"/>
            <Label text="Doanh thu hôm nay" style="-fx-font-size: 12px; -fx-text-fill: #666; -fx-text-alignment: center;"/>
            <Label fx:id="todayRevenueLabel" text="0 VND" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #28a745;"/>
        </VBox>

        <!-- Today Orders Card -->
        <VBox style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 20; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 5, 0, 0, 2);" 
              spacing="10" alignment="CENTER" prefWidth="200">
            <Label text="📋" style="-fx-font-size: 32px;"/>
            <Label text="Đơn hàng hôm nay" style="-fx-font-size: 12px; -fx-text-fill: #666; -fx-text-alignment: center;"/>
            <Label fx:id="todayOrdersLabel" text="0" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #007bff;"/>
        </VBox>

        <!-- Active Tables Card -->
        <VBox style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 20; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 5, 0, 0, 2);" 
              spacing="10" alignment="CENTER" prefWidth="200">
            <Label text="🪑" style="-fx-font-size: 32px;"/>
            <Label text="Bàn đang hoạt động" style="-fx-font-size: 12px; -fx-text-fill: #666; -fx-text-alignment: center;"/>
            <Label fx:id="activeTablesLabel" text="0/0" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #ffc107;"/>
        </VBox>

        <!-- Total Products Card -->
        <VBox style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 20; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 5, 0, 0, 2);" 
              spacing="10" alignment="CENTER" prefWidth="200">
            <Label text="🍽️" style="-fx-font-size: 32px;"/>
            <Label text="Tổng số món" style="-fx-font-size: 12px; -fx-text-fill: #666; -fx-text-alignment: center;"/>
            <Label fx:id="totalProductsLabel" text="0" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #dc3545;"/>
        </VBox>
    </HBox>

    <!-- Quick Actions -->
    <VBox spacing="15">
        <Label text="⚡ Thao tác nhanh" style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #333;"/>
        
        <HBox spacing="12" alignment="CENTER_LEFT">
            <Button fx:id="addUserButton" text="👤 Thêm nhân viên" 
                    style="-fx-background-color: #007bff; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 10 20; -fx-background-radius: 5;" 
                    prefHeight="40"/>
            
            <Button fx:id="addProductButton" text="🍽️ Thêm món mới" 
                    style="-fx-background-color: #28a745; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 10 20; -fx-background-radius: 5;" 
                    prefHeight="40"/>
            
            <Button fx:id="viewReportsButton" text="📊 Xem báo cáo" 
                    style="-fx-background-color: #ffc107; -fx-text-fill: #333; -fx-font-weight: bold; -fx-padding: 10 20; -fx-background-radius: 5;" 
                    prefHeight="40"/>
            
            <Button fx:id="managePromotionsButton" text="🎉 Quản lý khuyến mãi" 
                    style="-fx-background-color: #dc3545; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 10 20; -fx-background-radius: 5;" 
                    prefHeight="40"/>
        </HBox>
        
        <!-- System Administration -->
        <Label text="🔧 Quản trị hệ thống" style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #333;"/>
        
        <HBox spacing="12" alignment="CENTER_LEFT">
            <Button fx:id="systemSettingsButton" text="⚙️ Cài đặt hệ thống" 
                    style="-fx-background-color: #6c757d; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 10 20; -fx-background-radius: 5;" 
                    prefHeight="40"/>
            
            <Button fx:id="backupDataButton" text="💾 Sao lưu dữ liệu" 
                    style="-fx-background-color: #17a2b8; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 10 20; -fx-background-radius: 5;" 
                    prefHeight="40"/>
            
            <Button fx:id="restoreDataButton" text="📥 Khôi phục dữ liệu" 
                    style="-fx-background-color: #fd7e14; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 10 20; -fx-background-radius: 5;" 
                    prefHeight="40"/>
            
            <Button fx:id="exportDashboardButton" text="📋 Xuất dashboard" 
                    style="-fx-background-color: #20c997; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 10 20; -fx-background-radius: 5;" 
                    prefHeight="40"/>
            
            <Button fx:id="systemLogsButton" text="📜 System logs" 
                    style="-fx-background-color: #6f42c1; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 10 20; -fx-background-radius: 5;" 
                    prefHeight="40"/>
        </HBox>
    </VBox>

    <!-- Charts Section -->
    <HBox spacing="20" VBox.vgrow="ALWAYS">
        <!-- Revenue Chart -->
        <VBox style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 20; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 5, 0, 0, 2);" 
              spacing="10" HBox.hgrow="ALWAYS">
            <Label text="📈 Doanh thu 7 ngày qua" style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-text-fill: #333;"/>
            <LineChart fx:id="revenueChart" prefHeight="250" animated="true">
                <xAxis>
                    <CategoryAxis fx:id="revenueXAxis"/>
                </xAxis>
                <yAxis>
                    <NumberAxis fx:id="revenueYAxis"/>
                </yAxis>
            </LineChart>
        </VBox>

        <!-- Popular Products Chart -->
        <VBox style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 20; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 5, 0, 0, 2);" 
              spacing="10" HBox.hgrow="ALWAYS">
            <Label text="🏆 Món ăn phổ biến" style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-text-fill: #333;"/>
            <PieChart fx:id="popularProductsChart" prefHeight="250" animated="true"/>
        </VBox>
    </HBox>

    <!-- Recent Activities -->
    <VBox style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 20; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 5, 0, 0, 2);" 
          spacing="15">
        <HBox alignment="CENTER_LEFT" spacing="10">
            <Label text="🕒 Hoạt động gần đây" style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-text-fill: #333;"/>
            <Button fx:id="refreshActivitiesButton" text="🔄" 
                    style="-fx-background-color: #f8f9fa; -fx-text-fill: #666; -fx-border-color: #dee2e6; -fx-border-width: 1; -fx-background-radius: 3;"
                    prefWidth="30" prefHeight="25"/>
        </HBox>
        
        <ListView fx:id="activitiesListView" prefHeight="150">
            <placeholder>
                <Label text="Chưa có hoạt động nào" style="-fx-text-fill: #999;"/>
            </placeholder>
        </ListView>
    </VBox>

</VBox>
